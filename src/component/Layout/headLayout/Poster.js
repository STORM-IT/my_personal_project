import React, { Fragment, useEffect, useRef, useState } from 'react'
import { useSelector } from 'react-redux';
import { useDispatch } from 'react-redux';
import { Set_url_video } from '../../Redux/Action/url_short_top_video/top_video';

export default function Poster() {

    // const [url, setUrl] = useState("./IMG/head_short_video/top-view-of-business-handshake-and-client-meeting.m4v");
    // const [currentVideo, setCurrentVideo] = useState(1);

    // const videos = ["./IMG/head_short_video/top-view-of-business-handshake-and-client-meeting.m4v", "./IMG/head_short_video/open-office-space.m4v"];

    const url = useSelector(state => state.url)
    const dispatch = useDispatch();

    console.log(url)
    const vidRef = useRef();
    useEffect(() => {
        // dispatch(set_url_video())
        require("../../../JS/script");
        // vidRef.current.play();
    }, [])

    // useEffect(() => {
    //     vidRef.current.play();
    // }, [url])


    // const next_video = () => {
    //     if (currentVideo === videos.length) {
    //         setCurrentVideo(0);
    //         setUrl(videos[0])
    //     } else {
    //         setCurrentVideo(currentVideo + 1)
    //         setUrl(videos[currentVideo])
    //     }
    // }
    return (
        <Fragment>
            <div className='header-short'>
                {/* <div> */}
                <video id='short-video_head' className='header-short-video' src={url} onEnded={() => dispatch(Set_url_video())} ref={vidRef} muted poster="../../IMG/poster/picture.jpg" />
                <img className='header-short-img' src="../../IMG/poster/picture_2.jpg" />
                {/* </div> */}
                {/* <video id='short-video_head' className='header-short-video' src={url} onEnded={() => next_video()} ref={vidRef} muted poster='./IMG/poster/picture.jpg' /> */}
                <span>به وبساخت شخصی من خوش آمدید</span>
                {/* <svg className='header-short-footer' xmlns="http://www.w3.org/2000/svg" viewBox="0 -20 1440 200">
                    <path fill="#393e46" fill-opacity="1" d="M0,96L80,90.7C160,85,320,75,480,90.7C640,107,800,149,960,149.3C1120,149,1280,107,1360,85.3L1440,64L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path>
                </svg> */}


                <svg className='header-short-footer' xmlns="http://www.w3.org/2000/svg" viewBox="0 -20 1440 200">
                    {/* <path fill="#393e46" fill-opacity="1" d="M0,96L80,90.7C160,85,320,75,480,90.7C640,107,800,149,960,149.3C1120,149,1280,107,1360,85.3L1440,64L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path> */}
                    <path style="transform:translate(0, 50px); opacity:0.9" fill="url(#sw-gradient-1)" d="M0,22L48,18.3C96,15,192,7,288,36.7C384,66,480,132,576,146.7C672,161,768,125,864,102.7C960,81,1056,73,1152,84.3C1248,95,1344,125,1440,121C1536,117,1632,81,1728,69.7C1824,59,1920,73,2016,77C2112,81,2208,73,2304,69.7C2400,66,2496,66,2592,62.3C2688,59,2784,51,2880,44C2976,37,3072,29,3168,25.7C3264,22,3360,22,3456,29.3C3552,37,3648,51,3744,66C3840,81,3936,95,4032,84.3C4128,73,4224,37,4320,36.7C4416,37,4512,73,4608,77C4704,81,4800,51,4896,40.3C4992,29,5088,37,5184,40.3C5280,44,5376,44,5472,36.7C5568,29,5664,15,5760,40.3C5856,66,5952,132,6048,154C6144,176,6240,154,6336,135.7C6432,117,6528,103,6624,88C6720,73,6816,59,6864,51.3L6912,44L6912,220L6864,220C6816,220,6720,220,6624,220C6528,220,6432,220,6336,220C6240,220,6144,220,6048,220C5952,220,5856,220,5760,220C5664,220,5568,220,5472,220C5376,220,5280,220,5184,220C5088,220,4992,220,4896,220C4800,220,4704,220,4608,220C4512,220,4416,220,4320,220C4224,220,4128,220,4032,220C3936,220,3840,220,3744,220C3648,220,3552,220,3456,220C3360,220,3264,220,3168,220C3072,220,2976,220,2880,220C2784,220,2688,220,2592,220C2496,220,2400,220,2304,220C2208,220,2112,220,2016,220C1920,220,1824,220,1728,220C1632,220,1536,220,1440,220C1344,220,1248,220,1152,220C1056,220,960,220,864,220C768,220,672,220,576,220C480,220,384,220,288,220C192,220,96,220,48,220L0,220Z"></path>
                </svg>


                {/* <svg id="wave" style="transform:rotate(0deg); transition: 0.3s" viewBox="0 0 1440 220" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(0, 0, 0, 1)" offset="0%"></stop><stop stop-color="rgba(0, 146, 202, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,0L48,11C96,22,192,44,288,73.3C384,103,480,139,576,132C672,125,768,73,864,58.7C960,44,1056,66,1152,91.7C1248,117,1344,147,1440,165C1536,183,1632,191,1728,194.3C1824,198,1920,198,2016,190.7C2112,183,2208,169,2304,143C2400,117,2496,81,2592,88C2688,95,2784,147,2880,143C2976,139,3072,81,3168,69.7C3264,59,3360,95,3456,110C3552,125,3648,117,3744,113.7C3840,110,3936,110,4032,113.7C4128,117,4224,125,4320,106.3C4416,88,4512,44,4608,47.7C4704,51,4800,103,4896,132C4992,161,5088,169,5184,143C5280,117,5376,59,5472,36.7C5568,15,5664,29,5760,62.3C5856,95,5952,147,6048,139.3C6144,132,6240,66,6336,47.7C6432,29,6528,59,6624,77C6720,95,6816,103,6864,106.3L6912,110L6912,220L6864,220C6816,220,6720,220,6624,220C6528,220,6432,220,6336,220C6240,220,6144,220,6048,220C5952,220,5856,220,5760,220C5664,220,5568,220,5472,220C5376,220,5280,220,5184,220C5088,220,4992,220,4896,220C4800,220,4704,220,4608,220C4512,220,4416,220,4320,220C4224,220,4128,220,4032,220C3936,220,3840,220,3744,220C3648,220,3552,220,3456,220C3360,220,3264,220,3168,220C3072,220,2976,220,2880,220C2784,220,2688,220,2592,220C2496,220,2400,220,2304,220C2208,220,2112,220,2016,220C1920,220,1824,220,1728,220C1632,220,1536,220,1440,220C1344,220,1248,220,1152,220C1056,220,960,220,864,220C768,220,672,220,576,220C480,220,384,220,288,220C192,220,96,220,48,220L0,220Z"></path><defs><linearGradient id="sw-gradient-1" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(0, 0, 0, 1)" offset="0%"></stop><stop stop-color="rgba(0, 146, 202, 1)" offset="100%">
                </stop>
                </linearGradient>
                </defs>
                    <path style="transform:translate(0, 50px); opacity:0.9" fill="url(#sw-gradient-1)" d="M0,22L48,18.3C96,15,192,7,288,36.7C384,66,480,132,576,146.7C672,161,768,125,864,102.7C960,81,1056,73,1152,84.3C1248,95,1344,125,1440,121C1536,117,1632,81,1728,69.7C1824,59,1920,73,2016,77C2112,81,2208,73,2304,69.7C2400,66,2496,66,2592,62.3C2688,59,2784,51,2880,44C2976,37,3072,29,3168,25.7C3264,22,3360,22,3456,29.3C3552,37,3648,51,3744,66C3840,81,3936,95,4032,84.3C4128,73,4224,37,4320,36.7C4416,37,4512,73,4608,77C4704,81,4800,51,4896,40.3C4992,29,5088,37,5184,40.3C5280,44,5376,44,5472,36.7C5568,29,5664,15,5760,40.3C5856,66,5952,132,6048,154C6144,176,6240,154,6336,135.7C6432,117,6528,103,6624,88C6720,73,6816,59,6864,51.3L6912,44L6912,220L6864,220C6816,220,6720,220,6624,220C6528,220,6432,220,6336,220C6240,220,6144,220,6048,220C5952,220,5856,220,5760,220C5664,220,5568,220,5472,220C5376,220,5280,220,5184,220C5088,220,4992,220,4896,220C4800,220,4704,220,4608,220C4512,220,4416,220,4320,220C4224,220,4128,220,4032,220C3936,220,3840,220,3744,220C3648,220,3552,220,3456,220C3360,220,3264,220,3168,220C3072,220,2976,220,2880,220C2784,220,2688,220,2592,220C2496,220,2400,220,2304,220C2208,220,2112,220,2016,220C1920,220,1824,220,1728,220C1632,220,1536,220,1440,220C1344,220,1248,220,1152,220C1056,220,960,220,864,220C768,220,672,220,576,220C480,220,384,220,288,220C192,220,96,220,48,220L0,220Z">
                    </path>
                </svg> */}
            </div>
        </Fragment>
    )
}
